(this.webpackJsonpcircular_patterns=this.webpackJsonpcircular_patterns||[]).push([[0],{102:function(t,e,n){},103:function(t,e,n){},105:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(2),r=n.n(i),s=n(32),o=n.n(s),c=(n(102),n(4)),u=n(5),l=n(3),h=n(9),d=n(8),f=(n(103),n(6)),v=n.n(f),p=n(33),y=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).onPlay=a.onPlay.bind(Object(l.a)(a)),a.onClear=a.onClear.bind(Object(l.a)(a)),a.state={canvasRef:r.a.createRef(),orientation:0,centerPos:null},a}return Object(u.a)(n,[{key:"nextPos",value:function(t){return{x:this.state.centerPos.x+this.props.data.get(t)*Math.cos(2*t*Math.PI),y:this.state.centerPos.y-this.props.data.get(t)*Math.sin(2*t*Math.PI)}}},{key:"componentDidMount",value:function(){this.props.setPlay(this.onPlay),this.props.setClear(this.onClear);var t={x:this.state.canvasRef.current.width/2,y:this.state.canvasRef.current.height/2};this.setState({centerPos:t});this.state.canvasRef.current.getContext("2d")}},{key:"componentDidUpdate",value:function(){this.state.canvasRef.current.getContext("2d").lineTo(this.nextPos(this.state.orientation).x,this.nextPos(this.state.orientation).y)}},{key:"resetPath",value:function(t){}},{key:"onPlay",value:function(){var t=Object(p.a)(v.a.mark((function t(){var e,n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.state.canvasRef.current.getContext("2d"),n=.01,e.moveTo(this.state.canvasRef.current.width/2,this.state.canvasRef.current.height/2),e.beginPath(),a=0;case 5:if(!(a<=1)){t.next=13;break}return e.stroke(),this.setState({orientation:a}),t.next=10,new Promise((function(t){return setTimeout(t,5)}));case 10:a+=n,t.next=5;break;case 13:this.resetPath(e);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onClear",value:function(){var t=this.state.canvasRef.current.getContext("2d");this.resetPath(t),t.clearRect(0,0,this.state.canvasRef.current.width,this.state.canvasRef.current.height)}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Canvas",children:[Object(a.jsx)("h1",{children:"Canvas"}),Object(a.jsx)("canvas",{ref:this.state.canvasRef,height:480,width:480})]})}}]),n}(r.a.Component),b=n(1),x=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).margin={top:20,right:30,bottom:20,left:30},a.width=480,a.height=480,a.xScale=b.f().domain([0,1]).range([0+a.margin.right,a.width-a.margin.left]),a.yScale=b.f().domain([-50,50]).range([0+a.margin.top,a.height-a.margin.bottom]),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.drawChart(),this.drawPath()}},{key:"componentDidUpdate",value:function(){this.drawPath()}},{key:"drawPath",value:function(){var t=this,e=b.d().x((function(e){return t.xScale(e.x)})).y((function(e){return t.yScale(e.y)})),n=b.c().on("drag",(function(e,n){t.props.onChange(n.value.p.x,t.yScale.invert(e.y))})),a=b.g("svg"),i=function(e){for(var n=[],a=0;a<=1;a+=e)n.push({x:a,y:t.props.data.get(a)});return n}(.01);console.log(i),a.selectAll("#pathPoints").remove(),console.log("addPoints(): ",t.props.data.pointList),a.selectAll("pathCircles").data(t.props.data.toList()).enter().append("circle").attr("id","pathPoints").attr("cx",(function(e){return t.xScale(e.value.p.x)})).attr("cy",(function(e){return t.yScale(e.value.p.y)})).attr("fill","red").attr("r",4).on("mouseover",(function(t){b.g(this).attr("stroke","black").attr("stroke-width",4)})).on("mouseout",(function(t){b.g(this).attr("stroke","none")})).call(n).on("click",(function(t){t.defaultPrevented})),a.selectAll("#dataPath").remove();a.append("path").attr("id","dataPath").datum(i).attr("d",e).attr("fill","none").attr("stroke","red").attr("stroke-width",2)}},{key:"drawChart",value:function(){var t=this,e=b.g("svg");b.g("rect").on("click",(function(e){t.props.onAdd(t.xScale.invert(b.e(e)[0]),t.yScale.invert(b.e(e)[1]))})),e.append("g").attr("transform","translate(0,".concat(.5*t.width,")")).call(b.b(t.xScale)),e.append("g").attr("transform","translate(".concat(t.margin.left,",0)")).call(b.a(t.yScale))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Graph",children:[Object(a.jsx)("h1",{children:"Radius graph"}),Object(a.jsx)("svg",{height:this.height,width:this.width,children:Object(a.jsx)("g",{children:Object(a.jsx)("rect",{fill:"#d6d6d6",height:this.height,width:this.width})})})]})}}]),n}(r.a.Component),j=n(10),g=function(){function t(e,n,a){Object(c.a)(this,t),this.p={x:e,y:n},this.fun=a}return Object(u.a)(t,[{key:"copy",value:function(){return new t(this.p.x,this.p.y,this.fun.bind({}))}}]),t}(),O=function(){function t(e,n){Object(c.a)(this,t),this.pointList=e,n&&(console.log("Initializing pointList."),this.add({x:1,y:10},"constant"),this.add({x:0,y:10},"linear")),console.log("Constructed pointList: ",this.pointList)}return Object(u.a)(t,[{key:"copy",value:function(){for(var e={},n=0,a=Object.entries(this.pointList);n<a.length;n++){var i=Object(j.a)(a[n],2),r=i[0],s=i[1];e[r]=s.copy()}return new t(e,!1)}},{key:"reverse",value:function(){for(var e=new t({},!1),n=0,a=Object.entries(this.pointList);n<a.length;n++){var i=Object(j.a)(a[n],2),r=i[0],s=i[1];0===r?e.add({x:1-s.p.x,y:s.p.y},"constant"):e.add({x:1-s.p.x,y:s.p.y},"linear")}return console.log(e),e}},{key:"toList",value:function(){for(var t=[],e=0,n=Object.entries(this.pointList);e<n.length;e++){var a=Object(j.a)(n[e],2),i=a[0],r=a[1];t.push({value:r,index:i})}return t}},{key:Symbol.iterator,value:function(){return this.pointList.values()}},{key:"get",value:function(t){var e=this.findPrevPoint(t);return null===e?this.pointList[0].fun(t):e.value.fun(t)}},{key:"replace",value:function(t,e,n){var a={x:this.pointList[t].p.x,y:e};this.add(a,n),console.log("Post-replace pointList: ",this.pointList)}},{key:"add",value:function(t,e){var n;switch(null===this.findNextPoint(t.x)&&(e="constant"),e){case"linear":var a=this.findNextPoint(t.x).value.p;n=function(e){return(e-t.x)*(a.y-t.y)/(a.x-t.x)+t.y};break;case"constant":n=function(e){return t.y};break;case"none":n=function(t){return 0};break;case"sine":default:console.log("Function type not supported. Using default function."),n=function(t){return 10}}this.pointList[t.x]=new g(t.x,t.y,n);var i=this.findPrevPoint(t.x);null!==i&&this.replace(i.index,i.value.p.y,"linear")}},{key:"findNextPoint",value:function(t){for(var e=null,n=0,a=Object.entries(this.pointList);n<a.length;n++){var i=Object(j.a)(a[n],2),r=i[0],s=i[1];t<s.p.x&&(null===e||s.p.x<e.value.p.x)&&(e={value:s,index:r})}return e}},{key:"findPrevPoint",value:function(t,e){for(var n=null,a=0,i=Object.entries(this.pointList);a<i.length;a++){var r=Object(j.a)(i[a],2),s=r[0],o=r[1];t>o.p.x&&(null===n||o.p.x>n.value.p.x)&&(n={value:o,index:s})}return n}}]),t}(),k=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).onChange=a.onChange.bind(Object(l.a)(a)),a.onAdd=a.onAdd.bind(Object(l.a)(a)),a.onReverse=a.onReverse.bind(Object(l.a)(a)),a.onDefault=a.onDefault.bind(Object(l.a)(a)),a.state={data:new O({},!0)},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"onChange",value:function(t,e){this.state.data.replace(t,e,"linear"),this.setState({data:this.state.data.copy()})}},{key:"onAdd",value:function(t,e){this.state.data.add({x:t,y:e},"linear"),this.setState({data:this.state.data.copy()})}},{key:"onReverse",value:function(){this.setState({data:this.state.data.reverse()})}},{key:"onDefault",value:function(){this.setState({data:new O({},!0)})}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:"Meat",children:[Object(a.jsx)(y,{data:this.state.data,setPlay:function(e){return t.playCanvas=e},setClear:function(e){return t.clearCanvas=e}}),Object(a.jsx)(x,{data:this.state.data,onChange:this.onChange,onAdd:this.onAdd})]}),Object(a.jsxs)("div",{className:"Buttons",children:[Object(a.jsx)("button",{onClick:function(){return t.playCanvas()},children:"Play"}),Object(a.jsx)("button",{onClick:function(){return t.clearCanvas()},children:"Clear"}),Object(a.jsx)("button",{onClick:this.onReverse,children:"Reverse"}),Object(a.jsx)("button",{onClick:this.onDefault,children:"Default"})]})]})}}]),n}(r.a.Component),P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),i(t),r(t),s(t)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(k,{})}),document.getElementById("root")),P()}},[[105,1,2]]]);
//# sourceMappingURL=main.7cb68054.chunk.js.map